<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Naheel's Website</title>
        <style>
         @font-face {
             font-family: 'dejavu';
             src: URL('DejaVuSansMono.ttf') format('truetype');
         }
         body, button, select, input, a {
             color: #ffffff;
             text-shadow: 0px 4px 8px rgba(0,0,0,0.5);
             font-family: dejavu, monospace;
         }
         body, button, select, input {
             background-color: #000000;
         }
         hr {
             display: block;
             height: 1px;
             border: 0;
             border-top: 0.3em solid white;
             margin: 1em 0;
             padding: 0;
         }
         p {
             overflow: hidden !important;
             text-overflow: ellipsis;
         }
         .card {
             box-shadow: 0 4px 8px 0 rgba(0,0,0,0.5);
             transition: 0.3s;
             border-radius: 25px;
             background-color: #000000;
             cursor: pointer;
         }
        </style>
    </head>
    <body>

        <center><div style="max-width:700px">
            <table>
                <tr><h1>Naheel's Website</h1></tr>
                <tr><hr></tr>
                <tr>
                    <td><span id="ck" style="font-size:3em"></span></td>
                    <td><h2 style="margin:40px">
                        <a href="https://github.com/Naheel-Azawy">PROJECTS</a>
                        <br>
                        <a href="https://www.researchgate.net/profile/Naheel_Faisal_Kamal">RESEARCH</a>
                        <br>
                        <a href="https://www.instagram.com/naheelazawy">ALBUM</a>
                        <br>
                        <a href="https://www.youtube.com/channel/UCqtXkdnQ5fc-wp2w8zXpLDg">VIDEOS</a>
                        <br>
                        <a href="mailto:naheelazawy@gmail.com">EMAIL</a>
                        <br>
                        <a href="naheelkey.gpg">GPG KEY</a>
                    </h2></td>
                </tr>
            </table>
            <h1 style="padding-top:100px">Things</h1>
            <div id="cards">Loading...</div>
            <img src="boat.png" style="width:25%;padding-bottom:30px"></div>
        </div></center>

        <script src="things.js"></script>

        <script>
         const BITS = 6;
         function i2b(i) {
             var str = i.toString(2);
             while (str.length < BITS) str = "0" + str;
             str = str.split('0').join("○");
             str = str.split('1').join("●");
             return str;
         }
         function set_clock() {
             var d = new Date();
             var h = i2b(d.getHours()),
                 m = i2b(d.getMinutes()),
                 s = i2b(d.getSeconds());
             var str = '';
             for (var i = 0; i < BITS; ++i) {
                 str += `${h[i]}&nbsp;${m[i]}&nbsp;${s[i]}<br>`;
             }
             document.getElementById('ck').innerHTML = str;
         }
         set_clock();
         setInterval(set_clock, 1000);

         function rand(min, max) {
             return Math.floor(Math.random() * (max - min) + min);
         }

         var bgs = [
             "./bg/moon.png",
             "./bg/wall1.png",
             "./bg/wall2.png"
         ];

         document.body.setAttribute("style", `
             background: url('${bgs[rand(0, bgs.length)]}') no-repeat center center fixed;
             -webkit-background-size: cover;
             -moz-background-size: cover;
             -o-background-size: cover;
             background-size: cover;`);

         function card(img, title, tags, text) {
             return `
             <div class="card" style="height:200px" onclick="location.href='https://github.com/Naheel-Azawy/${title}'">
               <img src="${img}" loop="-1" style="background:#111111;margin-right:20px;float:left;overflow:auto;border-radius:25px;width:30%;height:100%;object-fit:cover">
               <div align="left" style="padding:16px">
                 <h2><b>${title}</b></h2>
                 <p style="height:50px">${text}</p>
                 <div align="right"><small>${tags}</small></div>
               </div>
             </div>
             `;
         }

         function shuffle(a) {
             var j, x, i;
             for (i = a.length - 1; i > 0; i--) {
                 j = Math.floor(Math.random() * (i + 1));
                 x = a[i];
                 a[i] = a[j];
                 a[j] = x;
             }
             return a;
         }

         window.onload = function() {
             let cards = "";
             for (let thing of shuffle(Object.keys(things))) {
                 let t = things[thing];
                 if (t.text == "" || t.img == "") continue;
                 cards += card(t.img, thing, t.tags, t.text) + "<br>";
             }
             document.getElementById("cards").innerHTML = cards;
         }

        </script>

    </body>
</html>
